(this["webpackJsonpok-json"]=this["webpackJsonpok-json"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(21)},,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),l=a.n(c),u=(a(15),a(1)),o=function(e){var t=e.data,a=t.key,n=t.value,c=e.filter,l=e.children,o=r.a.useState(!1),i=Object(u.a)(o,2),s=i[0],m=i[1],h=s?"Ok-closable-button Ok-closable-button-closed":"Ok-closable-button Ok-closable-button-open",k=s?"Ok-value Ok-Array-value closed":"Ok-value Ok-Array-value open",f=c.matches(a),v="destination"===n.match&&f,d="segment"===n.match||"destination"===n.match&&!f,b="Ok-key Ok-Array-key ".concat(v?"Ok-highlighted-key":""," ").concat(d?"Ok-highlighted-key-segment":"");return r.a.createElement("div",{className:"Ok-block Ok-Array-block"},r.a.createElement("div",{className:b},r.a.createElement("button",{className:h,type:"button",onClick:function(){return m(!s)}},a)),r.a.createElement("div",{className:k},r.a.createElement("span",{className:"Ok-Array-bracket-open"},"["),s?" ... ":l,r.a.createElement("span",{className:"Ok-Array-bracket-close"},"]")))},i=function(e){var t=e.data,a=t.key,n=t.value,c=e.filter,l="destination"===n.match&&c.matches(n.value),u="Ok-value Ok-String-value ".concat(l?"Ok-highlighted-value":""),o=c.matches(a),i="destination"===n.match&&o,s="destination"===n.match&&!o,m="Ok-key Ok-String-key ".concat(i?"Ok-highlighted-key":""," ").concat(s?"Ok-highlighted-key-segment":"");return r.a.createElement("div",{className:"Ok-block Ok-String-block"},r.a.createElement("div",{className:m},a),r.a.createElement("div",{className:u},'"',n.value,'"'))},s=function(e){var t=e.data,a=t.key,n=t.value,c=e.filter,l="destination"===n.match&&c.matches(n.value),u="Ok-value Ok-Null-value ".concat(l?"Ok-highlighted-value":""),o=c.matches(a),i="destination"===n.match&&o,s="destination"===n.match&&!o,m="Ok-key Ok-Null-key ".concat(i?"Ok-highlighted-key":""," ").concat(s?"Ok-highlighted-key-segment":"");return r.a.createElement("div",{className:"Ok-block Ok-Null-block"},r.a.createElement("div",{className:m},a),r.a.createElement("div",{className:u},"null"))},m=function(e){var t=e.data,a=t.key,n=t.value,c=e.filter,l="destination"===n.match&&c.matches(n.value),u="Ok-value Ok-Boolean-value ".concat(l?"Ok-highlighted-value":""),o=c.matches(a),i="destination"===n.match&&o,s="destination"===n.match&&!o,m="Ok-key Ok-Boolean-key ".concat(i?"Ok-highlighted-key":""," ").concat(s?"Ok-highlighted-key-segment":"");return r.a.createElement("div",{className:"Ok-block Ok-Boolean-block"},r.a.createElement("div",{className:m},a),r.a.createElement("div",{className:u},n.value.toString()))},h=function(e){var t=e.data,a=t.key,n=t.value,c=e.filter,l="destination"===n.match&&c.matches(n.value),u="Ok-value Ok-Number-value ".concat(l?"Ok-highlighted-value":""),o=c.matches(a),i="destination"===n.match&&o,s="destination"===n.match&&!o,m="Ok-key Ok-Number-key ".concat(i?"Ok-highlighted-key":""," ").concat(s?"Ok-highlighted-key-segment":"");return r.a.createElement("div",{className:"Ok-block Ok-Number-block"},r.a.createElement("div",{className:m},a),r.a.createElement("div",{className:u},n.value))},k=function(e){var t=e.children,a=e.data,n=a.key,c=a.value,l=e.filter,o=r.a.useState(!1),i=Object(u.a)(o,2),s=i[0],m=i[1],h=s?"Ok-closable-button Ok-closable-button-closed":"Ok-closable-button Ok-closable-button-open",k=s?"Ok-value Ok-Object-value closed":"Ok-value Ok-Object-value open",f="destination"===c.match&&l.matches(n),v="segment"===c.match||"destination"===c.match&&!l.matches(n),d="Ok-key Ok-Object-key ".concat(f?"Ok-highlighted-key":""," ").concat(v?"Ok-highlighted-key-segment":"");return r.a.createElement("div",{className:"Ok-block Ok-Object-block"},n?r.a.createElement("div",{className:d},r.a.createElement("button",{className:h,type:"button",onClick:function(){return m(!s)}},n)):null,r.a.createElement("div",{className:k},r.a.createElement("span",{className:"Ok-Object-bracket-open"},"{"),s?" ... ":t,r.a.createElement("span",{className:"Ok-Object-bracket-close"},"}")))},f=function e(t){var a=t.data,n=a.key,c=a.value,l=t.filter,f=t.hasMatch,v=t.parentMatches,d=t.isRoot;return r.a.createElement("div",{className:"Ok-Json-body"},function(){if(!d&&f&&"no-match"===c.match&&!v)return null;switch(c.type){case"string":return r.a.createElement(i,{key:n,data:{key:n,value:c},filter:l});case"null":return r.a.createElement(s,{key:n,data:{key:n,value:c},filter:l});case"boolean":return r.a.createElement(m,{key:n,data:{key:n,value:c},filter:l});case"number":return r.a.createElement(h,{key:n,data:{key:n,value:c},filter:l});case"array":return r.a.createElement(o,{data:{key:n,value:c},filter:l},c.value.map((function(t,a){return r.a.createElement(e,{key:a.toString(),hasMatch:f,parentMatches:c.match&&"no-match"!==c.match,filter:l,data:{key:a.toString(),value:t}})})));case"object":return r.a.createElement(k,{data:{key:n,value:c},filter:l},Object.entries(c.value).map((function(t){var a=Object(u.a)(t,2),n=a[0],o=a[1];return r.a.createElement(e,{key:n,hasMatch:f,parentMatches:c.match&&"no-match"!==c.match,filter:l,data:{key:n,value:o}})})));default:return null}}())},v=a(3),d=a(2),b=function(e){return e},O=function(){},y=function(e,t){return"function"===typeof e?e(t):e},g=function e(t,a,n){var r=Array.isArray(n),c=r?[].concat(n):Object(d.a)({},n);if(0===t.length)return c;var l=t[0],u=t.slice(1,t.length);if(t.length>1){if(r){var o=e(u,a,c[l]);return c[l]=o,c}return Object(d.a)({},c,Object(v.a)({},l,e(u,a,c[l])))}return r?(c[l]=y(a,c[l]),c):Object(d.a)({},c,Object(v.a)({},l,y(a,c[l])))},p=function(e){return(t=e.split("."))[t.length-1];var t},E=function(e,t){var a;return function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return a.reduce((function(e,t){return t(e)}),e)}(function e(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch(a.type){case"string":case"boolean":case"number":case"null":return[t.matches("".concat(p(n)," ").concat(a.value))?n:null];case"array":return[t.matches(p(n))?n:null].concat(a.value.flatMap((function(t,a){return e(t,"".concat(n,".").concat(a))})));case"object":return[t.matches(p(n))?n:null].concat(Object.entries(a.value).flatMap((function(t){var a=Object(u.a)(t,2),r=a[0];return e(a[1],"".concat(n,".").concat(r))})));default:return[null]}}(e),(a=b,function(e){return e.filter(a)}),function(e){return function(t){return t.map(e)}}((function(e){return e.replace(/^\./,"")})))},j=function(e,t){var a=e.flatMap((function(e){return function(e){for(var t=Array.from({length:e.length}),a=0,n=0;n<e.length;n+=1){for(var r=a;r<e.length;r+=1)t[r]=(t[r]||[]).concat(e[n]);a+=1}return t}(e.split("."))})).map((function(e){return e.reduce((function(e,t){return e.concat(["value",t])}),[])})),n=e.map((function(e){return e.split(".").reduce((function(e,t){return e.concat(["value",t])}),[])})),r=function(e){return function(t){return Object(d.a)({},t,{match:e})}},c=a.reduce((function(e,t){return g(t,r("segment"),e)}),Object(d.a)({},t));return n.reduce((function(e,t){return g(t,r("destination"),e)}),Object(d.a)({},c))},N=(a(16),function(e){var t=e.data,a=e.filter,n=a.hasValue()?[j(E(t,a),t)]:[t];return r.a.createElement("div",null,n.map((function(e){return r.a.createElement("div",{key:Math.random().toString(36).substring(2,15),className:"App-Viewer-body"},r.a.createElement(f,{isRoot:!0,data:{key:"",value:e},filter:a,hasMatch:a.hasValue()}))})))}),S=a(4),x=a.n(S),C=a(7),A=function e(t){var a=function(e){return null===e?"null":Array.isArray(e)?"array":"string"===typeof e?"string":Boolean(e)===e?"boolean":Number.isNaN(Number(e))?"object":"number"}(t);return"array"===a?{type:a,match:"no-match",value:t.map(e)}:"object"===a?{type:a,match:"no-match",value:Object.entries(t).reduce((function(t,a){var n=Object(u.a)(a,2),r=n[0],c=n[1];return Object(d.a)({},t,Object(v.a)({},r,e(c)))}),{})}:{type:a,value:t,match:"no-match"}},w=function(e){return{type:"object",value:Object.entries(e).reduce((function(e,t){var a=Object(u.a)(t,2),n=a[0],r=a[1],c=A(r);return Object(d.a)({},e,Object(v.a)({},n,c))}),{})}},M=(a(18),w({bigObject:{cute_array:[1,{is_this:!0},"or is this",null],c:99,id:"0xdeaddaed"},smallObject:{e:12},straightText:"Oh boy! A well.",big_number:1234567890,false:!1,very:{nested:{and:{surprisingly:{boring:{object:!0}}}}}})),T=function(e){var t=e.setError,a=e.setData,n=r.a.useRef(null),c=r.a.useRef(null),l=function(){var e=Object(C.a)(x.a.mark((function e(){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(null),!(c&&c.current&&c.current.value)){e.next=18;break}return e.prev=2,e.next=5,fetch(c.current.value);case 5:return n=e.sent,e.t0=a,e.t1=w,e.next=10,n.json();case 10:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3),e.next=18;break;case 15:e.prev=15,e.t4=e.catch(2),t("Oh no, not ".concat(c.current.value,"."));case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}(),u=!!navigator.clipboard.readText;return r.a.createElement("div",{className:"DataInput-main"},r.a.createElement("button",{type:"button",onClick:function(){t(null),a(M)}},"Use Mock Data"),u?r.a.createElement("button",{type:"button",onClick:function(){navigator.clipboard.readText().then((function(e){try{t(null),a(w(JSON.parse(e)))}catch(n){t("That does not look like json...")}})).catch((function(){return t("You really need to give the permission for this one...")}))}},"Paste from clipboard"):null,r.a.createElement("textarea",{ref:n,placeholder:"Or just read from here..."}),r.a.createElement("button",{type:"button",onClick:function(){if(t(null),n&&n.current)try{a(w(JSON.parse(n.current.value)))}catch(e){t("That does not look like json...")}}},"Load from the big box"),r.a.createElement("input",{ref:c,type:"text",placeholder:"url"}),r.a.createElement("button",{type:"button",onClick:l},"Load from"," ",r.a.createElement("i",null,"the internet")))},L=a(8),q=a(9),J={value:"",flags:{ignoreCase:!1,matchCase:!1}},B=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(L.a)(this,e),this.query=void 0,this.query=t?e.parseSearchString(t):J}return Object(q.a)(e,[{key:"hasValue",value:function(){return!!this.query.value}},{key:"matches",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!this.hasValue())return!1;if(null===e)return this.matches("null");var t=e.toString(),a=this.query.value;return this.query.flags.matchCase?t.indexOf(a)>-1:this.query.flags.ignoreCase?t.toLowerCase().indexOf(a.toLowerCase())>-1:a!==a.toLowerCase()?t.indexOf(a)>-1:t.toLowerCase().indexOf(a.toLowerCase())>-1}}],[{key:"parseSearchString",value:function(e){var t,a={ignoreCase:e.indexOf("\\c")>-1,matchCase:e.indexOf("\\C")>-1};return{value:(t=e,t.replace(/\\[C|c]/g,"")),flags:a}}}]),e}(),R=(a(19),function(e){var t=e.setFilter,a=r.a.useState(""),n=Object(u.a)(a,2),c=n[0],l=n[1],o=r.a.useRef(!0);return r.a.useEffect((function(){if(o.current)return o.current=!1,O;var e=setTimeout((function(){return t(new B(c))}),300);return function(){return clearTimeout(e)}}),[c]),r.a.createElement("div",{className:"Toolbar"},r.a.createElement("input",{className:"Toolbar-filter",type:"text",placeholder:"filter",onChange:function(e){return l(e.target.value)},value:c}))}),V=(a(20),new B);var D=function(){var e=r.a.useState(null),t=Object(u.a)(e,2),a=t[0],n=t[1],c=r.a.useState(null),l=Object(u.a)(c,2),o=l[0],i=l[1],s=r.a.useState(V),m=Object(u.a)(s,2),h=m[0],k=m[1];return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},"Feed me JSON!",o?r.a.createElement("span",{className:"App-error"},o):null,a?r.a.createElement(R,{setFilter:k}):null),r.a.createElement("main",{className:"App-body"},a?r.a.createElement(N,{data:a,filter:h}):r.a.createElement(T,{setData:n,setError:i})))};l.a.render(r.a.createElement(D,null),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.bbc0830c.chunk.js.map
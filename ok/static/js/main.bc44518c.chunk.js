(this["webpackJsonpok-json"]=this["webpackJsonpok-json"]||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(18)},,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(6),c=a.n(l),u=(a(13),a(1)),o=function(e){var t=e.data.key,a=e.children,n=r.a.useState(!1),l=Object(u.a)(n,2),c=l[0],o=l[1],i=c?"Ok-closable-button Ok-closable-button-closed":"Ok-closable-button Ok-closable-button-open",s=c?"Ok-value Ok-Array-value closed":"Ok-value Ok-Array-value open";return r.a.createElement("div",{className:"Ok-block Ok-Array-block"},r.a.createElement("div",{className:"Ok-key Ok-Array-key"},r.a.createElement("button",{className:i,type:"button",onClick:function(){return o(!c)}},t)),r.a.createElement("div",{className:s},r.a.createElement("span",{className:"Ok-Array-bracket-open"},"["),c?" ... ":a,r.a.createElement("span",{className:"Ok-Array-bracket-close"},"]")))},i=a(2),s=a(3),v=function(e){return e},k=function(){},b=function e(t,a,n){var r=Array.isArray(n),l=r?[].concat(n):Object(s.a)({},n);if(0===t.length)return l;var c=t[0],u=t.slice(1,t.length);if(t.length>1){if(r){var o=e(u,a,l[c]);return l[c]=o,l}return Object(s.a)({},l,Object(i.a)({},c,e(u,a,l[c])))}return r?(l[c]=a,l):Object(s.a)({},l,Object(i.a)({},c,a))},m=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{value:""};return null===t?e("null",a):t.toString().toLowerCase().includes(a.value.toLowerCase())},f=function(e,t){var a;return function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return a.reduce((function(e,t){return t(e)}),e)}(function e(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch(a.type){case"string":case"boolean":case"number":case"null":return[m(a.value,t)?n:null];case"array":return a.value.flatMap((function(t,a){return e(t,"".concat(n,".").concat(a))}));case"object":return Object.entries(a.value).flatMap((function(t){var a=Object(u.a)(t,2),r=a[0];return e(a[1],"".concat(n,".").concat(r))}));default:return[null]}}(e),(a=v,function(e){return e.filter(a)}),function(e){return function(t){return t.map(e)}}((function(e){return e.replace(/^\./,"")})))},O=function(e,t){return t&&t.length?t.map((function(t){for(var a=t.split("."),n=[],r={},l=0;l<a.length;l+=1){var c=l===a.length-1,u=n.reduce((function(e,t){return e.value[t]}),e),o=a[l],s="array"===u.type?[]:{},v=void 0;v=c?{type:u.type,value:"array"===u.type?[u.value[o]]:Object(i.a)({},o,u.value[o])}:{type:u.type,value:s};var k=n.reduce((function(e,t){return e.concat([t,"value"])}),["value"]);n.length&&k.pop(),r=0===l?v:b(k,v,r),n.push(a[l])}return r})):[e]},d=function(e){var t=e.data,a=t.key,n=t.value,l=e.filter,c=l.value&&m(n.value,l),u="Ok-value Ok-String-value ".concat(c?"Ok-highlighted-value":"");return r.a.createElement("div",{className:"Ok-block Ok-String-block"},r.a.createElement("div",{className:"Ok-key Ok-String-key"},a),r.a.createElement("div",{className:u},'"',n.value,'"'))},y=function(e){var t=e.data,a=t.key,n=t.value,l=e.filter,c=l.value&&m(n.value,l),u="Ok-value Ok-Null-value ".concat(c?"Ok-highlighted-value":"");return r.a.createElement("div",{className:"Ok-block Ok-Null-block"},r.a.createElement("div",{className:"Ok-key Ok-Null-key"},a),r.a.createElement("div",{className:u},"null"))},p=function(e){var t=e.data,a=t.key,n=t.value,l=e.filter,c=l.value&&m(n.value,l),u="Ok-value Ok-Boolean-value ".concat(c?"Ok-highlighted-value":"");return r.a.createElement("div",{className:"Ok-block Ok-Boolean-block"},r.a.createElement("div",{className:"Ok-key Ok-Boolean-key"},a),r.a.createElement("div",{className:u},n.value.toString()))},E=function(e){var t=e.data,a=t.key,n=t.value,l=e.filter,c=l.value&&m(n.value,l),u="Ok-value Ok-Number-value ".concat(c?"Ok-highlighted-value":"");return r.a.createElement("div",{className:"Ok-block Ok-Number-block"},r.a.createElement("div",{className:"Ok-key Ok-Number-key"},a),r.a.createElement("div",{className:u},n.value))},h=function(e){var t=e.children,a=e.data.key,n=r.a.useState(!1),l=Object(u.a)(n,2),c=l[0],o=l[1],i=c?"Ok-closable-button Ok-closable-button-closed":"Ok-closable-button Ok-closable-button-open",s=c?"Ok-value Ok-Object-value closed":"Ok-value Ok-Object-value open";return r.a.createElement("div",{className:"Ok-block Ok-Object-block"},a?r.a.createElement("div",{className:"Ok-key Ok-Object-key"},r.a.createElement("button",{className:i,type:"button",onClick:function(){return o(!c)}},a)):null,r.a.createElement("div",{className:s},r.a.createElement("span",{className:"Ok-Object-bracket-open"},"{"),c?" ... ":t,r.a.createElement("span",{className:"Ok-Object-bracket-close"},"}")))},j=function e(t){var a=t.data,n=a.key,l=a.value,c=t.filter;return r.a.createElement("div",{className:"Ok-Json-body"},function(){switch(l.type){case"string":return r.a.createElement(d,{key:n,data:{key:n,value:l},filter:c});case"null":return r.a.createElement(y,{key:n,data:{key:n,value:l},filter:c});case"boolean":return r.a.createElement(p,{key:n,data:{key:n,value:l},filter:c});case"number":return r.a.createElement(E,{key:n,data:{key:n,value:l},filter:c});case"array":return r.a.createElement(o,{data:{key:n}},l.value.map((function(t,a){return r.a.createElement(e,{key:a.toString(),filter:c,data:{key:a.toString(),value:t}})})));case"object":return r.a.createElement(h,{data:{key:n}},Object.entries(l.value).map((function(t){var a=Object(u.a)(t,2),n=a[0],l=a[1];return r.a.createElement(e,{key:n,filter:c,data:{key:n,value:l}})})));default:return null}}())},g=function(e,t){return e.concat([t])},N=function(e,t,a){return Object(s.a)({},e,Object(i.a)({},a,t))},A=(a(14),function(e){var t=e.data,a=e.filter,n=a.value?[O(t,f(t,a)).reduce((function(e,t){return function e(t,a){var n=Array.isArray(t),r=n?[]:{};return Object.entries(t).forEach((function(e){var t=Object(u.a)(e,2),a=t[0],l=t[1];r=n?g(r,l):N(r,l,a)})),Object.entries(a).forEach((function(t){var a=Object(u.a)(t,2),l=a[0],c=a[1];if(n)r=g(r,c);else{var o=r;r=void 0!==o[l]&&function(e){return!!e&&"object"===typeof e}(o[l])?N(r,e(o[l],c),l):N(r,c,l)}})),r}(e,t)}),{})]:[t];return r.a.createElement("div",null,n.map((function(e){return r.a.createElement("div",{key:Math.random().toString(36).substring(2,15),className:"App-Viewer-body"},r.a.createElement(j,{data:{key:"",value:e},filter:a}))})))}),S=a(4),x=a.n(S),w=a(7),C=function e(t){var a=function(e){return null===e?"null":Array.isArray(e)?"array":"string"===typeof e?"string":Boolean(e)===e?"boolean":Number.isNaN(Number(e))?"object":"number"}(t);return"array"===a?{type:a,value:t.map(e)}:"object"===a?{type:a,value:Object.entries(t).reduce((function(t,a){var n=Object(u.a)(a,2),r=n[0],l=n[1];return Object(s.a)({},t,Object(i.a)({},r,e(l)))}),{})}:{type:a,value:t}},T=function(e){return{type:"object",value:Object.entries(e).reduce((function(e,t){var a=Object(u.a)(t,2),n=a[0],r=a[1],l=C(r);return Object(s.a)({},e,Object(i.a)({},n,l))}),{})}},J=(a(16),T({bigObject:{cute_array:[1,{is_this:!0},"or is this",null],c:99,id:"0xdeaddaed"},smallObject:{e:12},straightText:"Oh boy! A well.",big_number:1234567890,false:!1,very:{nested:{and:{surprisingly:{boring:{object:!0}}}}}})),B=function(e){var t=e.setError,a=e.setData,n=r.a.useRef(null),l=r.a.useRef(null),c=function(){var e=Object(w.a)(x.a.mark((function e(){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(null),!(l&&l.current&&l.current.value)){e.next=18;break}return e.prev=2,e.next=5,fetch(l.current.value);case 5:return n=e.sent,e.t0=a,e.t1=T,e.next=10,n.json();case 10:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3),e.next=18;break;case 15:e.prev=15,e.t4=e.catch(2),t("Oh no, not ".concat(l.current.value,"."));case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}(),u=!!navigator.clipboard.readText;return r.a.createElement("div",{className:"DataInput-main"},r.a.createElement("button",{type:"button",onClick:function(){t(null),a(J)}},"Use Mock Data"),u?r.a.createElement("button",{type:"button",onClick:function(){navigator.clipboard.readText().then((function(e){try{t(null),a(T(JSON.parse(e)))}catch(n){t("That does not look like json...")}})).catch((function(){return t("You really need to give the permission for this one...")}))}},"Paste from clipboard"):null,r.a.createElement("textarea",{ref:n,placeholder:"Or just read from here..."}),r.a.createElement("button",{type:"button",onClick:function(){if(t(null),n&&n.current)try{a(T(JSON.parse(n.current.value)))}catch(e){t("That does not look like json...")}}},"Load from the big box"),r.a.createElement("input",{ref:l,type:"text",placeholder:"url"}),r.a.createElement("button",{type:"button",onClick:c},"Load from"," ",r.a.createElement("i",null,"the internet")))},D=function(e){var t=e.setFilter,a=r.a.useState(""),n=Object(u.a)(a,2),l=n[0],c=n[1],o=r.a.useRef(!0);return r.a.useEffect((function(){if(o.current)return o.current=!1,k;var e=setTimeout((function(){return t({value:l})}),300);return function(){return clearTimeout(e)}}),[l]),r.a.createElement("div",null,r.a.createElement("input",{type:"text",onChange:function(e){return c(e.target.value)},value:l}))};a(17);var L=function(){var e=r.a.useState(null),t=Object(u.a)(e,2),a=t[0],n=t[1],l=r.a.useState(null),c=Object(u.a)(l,2),o=c[0],i=c[1],s=r.a.useState({value:""}),v=Object(u.a)(s,2),k=v[0],b=v[1];return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},"Feed me JSON!",o?r.a.createElement("span",{className:"App-error"},o):null,a?r.a.createElement(D,{setFilter:b}):null),r.a.createElement("main",{className:"App-body"},a?r.a.createElement(A,{data:a,filter:k}):r.a.createElement(B,{setData:n,setError:i})))};c.a.render(r.a.createElement(L,null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.bc44518c.chunk.js.map